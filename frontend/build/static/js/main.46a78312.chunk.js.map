{"version":3,"sources":["host.js","api.js","LandingPage.js","fetcher.js","history.js","FoodCart.js","OrderManage.js","FoodManage.js","DeskManage.js","AddFood.js","AddDesk.js","Restaurantanage.js","Login.js","HomePage.js","Register.js","OrderSuccess.js","App.js","serviceWorker.js","index.js"],"names":["host","api","axios","create","baseURL","withCredentials","fetcher","f","cache","read","args","key","join","then","val","createFetcher","did","get","withRouter","props","useState","custom","setCustom","console","log","rid","match","params","className","fallback","info","data","title","name","onClick","type","shape","size","block","history","push","createHashHistory","MenuItem","food","onUpdate","amount","src","img","alt","desc","price","style","width","borderBottom","margin","CartStatus","totalPrice","calcTotalPrice","foods","onPlaceOrder","cartAry","reduce","total","item","FoodCart","cartChange","socket","emit","desk","foodChange","updated","produce","state","cart","idx","findIndex","it","id","splice","setState","placeOrder","length","post","deskName","deskInfo","count","res","pathname","foodMenu","this","io","on","order","close","map","currentAmount","currFoodCartItem","find","cartItem","Component","OrderItem","orderInfo","setOrder","customCount","status","put","disabled","delete","onDelete","OrderManage","orders","bind","unshift","timestamp","FoodItem","foodInfo","setFoodInfo","isModify","setIsModify","category","foodProps","setFoodProps","change","e","target","value","imgChange","files","background","borderRadius","onChange","defaultValue","fontSize","paddingRight","fd","FormData","append","FoodManage","setFoods","filter","useEffect","to","DeskItem","setDeskInfo","capacity","deskProps","setDeskProps","DeskManage","desks","setDesks","AddFood","onSubmit","preventDefault","goBack","catch","alert","AddDesk","required","RestaurantInfo","setTitle","a","path","component","nameRef","useRef","passwordRef","current","password","user","ref","titleRef","display","paddingTop","location","App","exact","HomePage","LandingPage","OrderSuccess","Restaurantanage","Login","Register","Boolean","window","hostname","_","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.46a78312.chunk.js","sourcesContent":["var host='47.90.91.3'\nexport default host","import axios from 'axios'\nimport host from './host'\nvar api =axios.create({\n    baseURL:`http://${host}:5000/api`,\n    withCredentials:true\n\n})\nexport default api","import React,{Suspense,useState} from 'react'\nimport {withRouter} from 'react-router-dom'\nimport './LandingPage.css'\nimport createFetcher from './fetcher.js'\nimport api from './api.js'\nimport { Button } from 'antd';\n//////////////////////////////////////////////\nvar fetcher=createFetcher((did)=>{\n    return api.get('/deskinfo?did='+did)\n})\nexport default withRouter((props) => {\n    var [custom,setCustom]=useState(0)\n    console.log(props)\n    var rid=props.match.params.rid\n    var did=props.match.params.did\n    function startOrder(){\n        if(custom==0){\n            return \n        }\n       props.history.push(`/r/${rid}/d/${did}/c/${custom}`)\n    }\n// DeskInfo组件\n    function DeskInfo({did}){\n         var info=fetcher.read(did).data\n        //  console.log(info)\n         return (\n             <div>\n                 <div>餐厅名:{info.title}</div>\n                 <div>桌名:{info.name}</div>\n             </div>\n         )\n    }\n\n\n    return <div className='LandingPage'>\n        <Suspense fallback={<div>正在加载桌面信息</div>}> \n           <DeskInfo did={did}></DeskInfo>\n        </Suspense>\n        <div>选择人数</div>\n        <ul className='custom-count'>\n            <li className={custom===1?'active':null} onClick={()=>setCustom(1)}>1</li>\n            <li className={custom===2?'active':null} onClick={()=>setCustom(2)}>2</li>\n            <li className={custom===3?'active':null} onClick={()=>setCustom(3)}>3</li>\n            <li className={custom===4?'active':null} onClick={()=>setCustom(4)}>4</li>\n        </ul>\n\n        <Button type='ghost' shape='round' size='large' block onClick={startOrder}>开始点餐</Button>\n    </div>\n})\n","export default (f)=>{\n    var cache={}\n    // console.log(...args)\n    return {\n        read(...args){\n        var key =args.join('|')\n        if(key in cache){\n            return cache[key]\n        }else{\n            throw f(...args).then(val=>{\n                cache[key]=val\n            })\n        }\n        }\n    }\n}","import { createHashHistory} from 'history'\nexport default createHashHistory()","import React, { Suspense, useState,useEffect,Component } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport createFetcher from './fetcher.js'\nimport api from './api.js'\nimport {produce} from 'immer'\nimport history from './history'\nimport io from \"socket.io-client\";\nimport { Button } from 'antd';\nimport host from './host'\n// var fetcher=createFetcher((did)=>{\n//     return api.get('/deskinfo?did='+did)\n// })\n// function DeskInfo({did}){\n//     var info=fetcher.read(did).data\n//    //  console.log(info)\n//     return (\n//         <div>\n//             <div>餐厅名:{info.title}</div>\n//             <div>桌名:{info.name}</div>\n//         </div>\n//     )\n// }\n  // 列表组件,声明在父组件里面出现错误\nfunction MenuItem({food,onUpdate,amount}) {\n    // var [count, setCount] = useState(amount)\n    // useEffect()\n    function dec() {\n        if (amount === 0) {\n            return\n          }\n          \n          onUpdate(food, amount - 1)\n        // setCount(count - 1)\n        // onUpdate(food,count-1)\n    }\n    function inc() {\n \n  onUpdate(food, amount + 1)\n        // setCount(count + 1)\n        // onUpdate(food,count+1)\n    }\n    return (\n        <div >\n        <div className='menuItemStyle'>\n            <img className='imgStyle' src={`http://${host}:5000/upload/` + food.img} alt={food.name} />\n            <div className='menuItem1'>\n            <h2>{food.name}</h2>\n            <h4>描述：{food.desc}</h4>\n            <h3>价格：{food.price}</h3>\n            </div>\n            <div className='menuItem2'>\n            <Button type=\"primary\" shape=\"circle\" onClick={dec} >-</Button>\n            {/* disabled={count === 0 ? true : false} */}\n            <span><strong>{amount}</strong></span>\n            <Button type=\"primary\" shape=\"circle\" onClick={inc} >+</Button>\n            </div>\n        </div>\n        <div style={{width:'85vw',borderBottom:'1px solid',margin:'0 auto'}}></div></div>\n    )\n }\n\n //\n function CartStatus(props){\n    var [expand, setExpand] = useState(false)\n    // console.log(props.foods)\n    var totalPrice = calcTotalPrice(props.foods)\n    // var did=props.match.params.did\n    return (\n        <div className='CartStatus'>\n        {/* {expand ?\n        <button onClick={() => setExpand(false)}>收起</button> :\n        <button onClick={() => setExpand(true)}>展开</button>  } */}\n        {/* <Suspense fallback='获取餐厅信息'>\n        <DeskInfo did={did}></DeskInfo>\n        </Suspense> */}\n        总价：{totalPrice} 元\n        <div className='CartStatusButton' onClick={() => props.onPlaceOrder()}>下单</div>\n      \n        </div>\n      )\n}\n\nfunction calcTotalPrice(cartAry) {\n    return cartAry.reduce((total, item) => {\n      return total + item.amount * item.food.price\n    }, 0)\n  }\n\nexport default class FoodCart extends Component {\n    constructor(props) {\n        super(props);\n        this.state = { \n            cart:[],\n            foodMenu:[],\n            deskInfo:{},\n         }\n    }\n    componentDidMount() {\n        var params=this.props.match.params\n        api.get('/deskinfo?did=' + params.did).then(val => {\n            this.setState({\n                deskInfo:val.data\n            })\n            \n          })\n\n\n          api.get('/menu/restaurant/' +params.rid).then(res=>{\n              this.setState({\n                foodMenu:res.data\n              })\n          })\n\n\n        this.socket=io(`ws://${host}:5000/`)\n         this.socket.on('connect',()=>{\n            console.log(111111111111111)\n            this.socket.emit('join desk','desk:'+params.did)\n        \n        this.socket.on('cart food',info=>{\n            console.log(info)\n            this.setState(produce(state=>{\n                state.cart.push(...info)\n            }))\n        })\n        this.socket.on('new food',info=>{\n            console.log(info)\n            this.foodChange(info.food,info.amount)\n        })\n        this.socket.on('placeorder success', order => {\n            history.push({\n              pathname: `/r/${params.rid}/d/${params.did}/order-success`,\n              state: order,\n            })\n          })\n        })\n    }\n    componentWillUnmount() {\n        this.socket.close()\n      }\n      cartChange=(food,amount)=>{\n        var params=this.props.match.params\n        this.socket.emit('new food',{desk:'desk:'+params.did,food,amount})\n\n    }\n    foodChange=(food,amount)=>{\n        // this.socket.emit('new food',{food,amount})\n        var updated=produce(this.state.cart,cart=>{\n            var idx=cart.findIndex(it=>it.food.id===food.id)\n            if(idx>=0){\n                if(amount===0){\n                    cart.splice(idx,1)\n                }else{\n                    cart[idx].amount=amount\n                }\n            }else{\n                cart.push({\n                    food,\n                    amount,\n                })\n            }\n        })\n        this.setState({\n            cart:updated\n        })\n    }\n\n    placeOrder=()=>{\n        var params=this.props.match.params\n        if(this.state.cart.length==0){return }\n        //  var params={...this.props,\n        //      did:this.props.did,\n        //      rid:this.props.rid,\n        //      count:this.props.count}\n        //  console.log('下单',params)\n         api.post(`/restaurant/${params.rid}/desk/${params.did}/order`, {\n             deskName: this.state.deskInfo.name,\n             count: params.count,\n             totalPrice: calcTotalPrice(this.state.cart),\n             foods: this.state.cart,\n           }).then(res=>{\n              history.push({\n                 pathname: `/r/${params.rid}/d/${params.did}/order-success`,\n                 state: res.data,\n               })\n           })\n        \n }\n\n    render() { \n\n        return (  \n            <div className='Foodcart'>\n        <div>\n        {\n        \n        this.state.foodMenu.map(food => {\n\n            var currentAmount = 0\n            var currFoodCartItem = this.state.cart.find(cartItem => cartItem.food.id === food.id)\n            if (currFoodCartItem) {\n              currentAmount = currFoodCartItem.amount\n            }\n\n            return <MenuItem key={food.id} food={food} amount={currentAmount} onUpdate={this.cartChange}/>\n          })\n        }\n        <div>\n            <br></br><br></br><br></br><br></br>\n        </div>\n        </div>\n        <CartStatus foods={this.state.cart} onUpdate={this.cartChange} onPlaceOrder={this.placeOrder}></CartStatus>\n    </div>\n        );\n    }\n}\n\n\n\n","import React, { Component, useState, useEffect, useCallback } from 'react'\r\nimport io from 'socket.io-client'\r\nimport api from './api'\r\nimport { produce } from 'immer'\r\nimport { Button } from 'antd';\r\nimport host from './host'\r\nvar orderItemStyle = {\r\n    border: '2px solid',\r\n    margin: '5px',\r\n    padding: '5px',\r\n}\r\n// var  rid\r\n// async function log(){\r\n//     try{var a=await api.get('/userinfo')}\r\n//     catch(e){console.log(e)}\r\n//       if(a){\r\n//         rid=a.data.id\r\n//         console.log(rid)\r\n//       }\r\n// }\r\n// log()\r\nvar orderItemStyle = {\r\n    border: '2px solid',\r\n    margin: '5px',\r\n    padding: '5px',\r\n  }\r\n\r\n\r\nfunction OrderItem(props) {\r\n    // console.log(props)\r\n    var rid=props.rid\r\n    var [orderInfo,setOrder]=useState(props.order)\r\n    function setConfirm(){\r\n        api.put(`/restaurant/${rid}/order/${props.order.id}/status`,{\r\n            status:'confirmed'\r\n        }).then(()=>{\r\n            setOrder({\r\n                ...orderInfo,\r\n                status:'confirmed'\r\n            })\r\n        })\r\n    }\r\n    function setComplete(){\r\n        api.put(`/restaurant/${rid}/order/${props.order.id}/status`,{\r\n            status:'completed'\r\n        }).then(()=>{\r\n            setOrder({\r\n                ...orderInfo,\r\n                status:'completed'\r\n            })\r\n        })\r\n    }\r\n    function deleteOrder(){\r\n        api.delete(`/restaurant/${rid}/order/${props.order.id}`)\r\n        props.onDelete(props.order)\r\n    }\r\n    return <div className='OrderItem'>\r\n     <h3>餐桌名称：{orderInfo.deskName}</h3>\r\n      <h3>总价格：{orderInfo.totalPrice}</h3>\r\n      <h3>人数：{orderInfo.customCount}</h3>\r\n      <h3>订单状态：{orderInfo.status}</h3>\r\n        <div className='FoodItemBtn'>\r\n        <Button type='primary' onClick={setConfirm} disabled={(orderInfo.status === 'confirmed' || orderInfo.status === 'completed')? true : false}>确认</Button>\r\n        <Button type='primary' onClick={setComplete} disabled={orderInfo.status == 'completed' ? true : false}>已结算</Button>\r\n        <Button type='danger' onClick={deleteOrder}>删除</Button> \r\n        <Button type='dashed' >打印</Button>\r\n        </div>\r\n        <div style={{width:'85vw',borderBottom:'1px solid',margin:'0 auto'}}></div>\r\n    </div>\r\n}\r\n\r\nexport default class OrderManage extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        console.log(props)\r\n        this.state = {\r\n          orders: []\r\n        }\r\n        this.onDelete=this.onDelete.bind(this)\r\n      }\r\n      componentDidMount() {\r\n          var rid=this.props.match.params.rid\r\n        this.socket=io(`ws://${host}:5000/`)\r\n        this.socket.on('connect',()=>{\r\n            this.socket.emit('join restaurant',rid)\r\n        })\r\n        this.socket.on('new order',order=>{\r\n            this.setState(produce(state => {\r\n                state.orders.unshift(order)\r\n              }))\r\n        })\r\n        //        api.get(`/restaurant/${rid}/order`).then(res => {\r\n        //   this.setState(\r\n        //     this.state.orders = res.data\r\n        //   )\r\n        // })\r\n        var rid=this.props.match.params.rid\r\n        api.get(`/restaurant/${rid}/order`).then(res => {\r\n          this.setState(produce(state => {\r\n            state.orders = res.data\r\n          }))\r\n        })\r\n      }\r\n\r\n      componentWillUnmount(){\r\n          this.socket.close()\r\n      }\r\n\r\n    //   也可直接将下面的onDelete写成建构函数：onDelete=()=>{}\r\n      onDelete(order){\r\n          var idx=this.state.orders.findIndex(it=>it.id==order.id)\r\n          this.setState(produce(this.state,state=>{\r\n              state.orders.splice(idx,1)\r\n          }))\r\n      }\r\n    render(){\r\n        return (\r\n            <div >\r\n                <h2>订单管理</h2>\r\n                <div>\r\n                    {this.state.orders.length >= 0 \r\n                    ?(\r\n                        this.state.orders.length>0?\r\n                        (this.state.orders.map(order => {\r\n                        return <OrderItem rid={this.props.match.params.rid} onDelete=    {this.onDelete} key={order.timestamp}     order={order} />\r\n                        })\r\n                        )\r\n                        :<div>暂无订单</div>\r\n                    )\r\n                    :<div>loading...</div>\r\n                    }\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n    \r\n}\r\n","import React,{useState,useEffect} from 'react'\r\nimport api from './api'\r\nimport { Link } from 'react-router-dom'\r\nimport { Button } from 'antd';\r\nimport host from './host'\r\nvar imgStyle = {\r\n    float: 'left',\r\n    border: '1px solid',\r\n    width: '120px',\r\n    height: '100px',\r\n    // objectFit: 'contain',\r\n    align:\"middle\"\r\n\r\n  }\r\n  var foodInfoStyle = {\r\n    overflow: 'hidden',\r\n  }\r\n  var cardStyle = {\r\n    border: '2px solid',\r\n    padding: '5px',\r\n    margin: '5px',\r\n  }\r\n\r\n// var  rid\r\n// async function log(){\r\n//     try{var a=await api.get('/userinfo')}\r\n//     catch(e){console.log(e)}\r\n//       if(a){\r\n//         rid=a.data.id\r\n//         console.log(rid)\r\n//       }\r\n// }\r\n// log()\r\n\r\n  function FoodItem({food, onDelete,rid}) {\r\n    var [foodInfo, setFoodInfo] = useState(food)\r\n    var [isModify, setIsModify] = useState(false)\r\n    var [foodProps, setFoodProps] = useState({\r\n      name: food.name,\r\n      desc: food.desc,\r\n      price: food.price,\r\n      category: food.category,\r\n      status: food.status,\r\n      img: null,\r\n    })\r\n  \r\n  \r\n    function save() {\r\n      var fd = new FormData()\r\n  \r\n      for(var key in foodProps) {\r\n        var val = foodProps[key]\r\n        fd.append(key, val)\r\n      }\r\n  \r\n      api.put(`/restaurant/${rid}/food/` + food.id, fd).then((foodInfo) => {\r\n        setFoodInfo(foodInfo.data)\r\n        setIsModify(false)\r\n      })\r\n    }\r\n  \r\n    function change(e) {\r\n      setFoodProps({\r\n        ...foodProps,\r\n        [e.target.name]: e.target.value\r\n      })\r\n    }\r\n  \r\n    function imgChange(e) {\r\n      setFoodProps({\r\n        ...foodProps,\r\n        img: e.target.files[0],\r\n      })\r\n    }\r\n  \r\n    function deleteFood() {\r\n      api.delete(`/restaurant/${rid}/food/` + food.id).then(() => {\r\n        onDelete(food.id)\r\n      })\r\n    }\r\n  \r\n    function setOnline() {\r\n      api.put(`/restaurant/${rid}/food/` + food.id, {\r\n        ...foodProps,\r\n        status: 'on',\r\n      }).then(res => {\r\n        setFoodInfo(res.data)\r\n      })\r\n    }\r\n    function setOffline() {\r\n      api.put(`/restaurant/${rid}/food/` + food.id, {\r\n        ...foodProps,\r\n        status: 'off',\r\n      }).then(res => {\r\n        setFoodInfo(res.data)\r\n      })\r\n    }\r\n  \r\n    function getContent() {\r\n      if (isModify) {\r\n        return (\r\n          <div style={{\r\n            width: '95vw',\r\n            margin:'0 auto',\r\n             background: 'rgba(219, 219, 219, 0.5)',\r\n            borderRadius: '5px',\r\n          }}>\r\n            <form>\r\n              名称：<input className='FoodManageInput' type=\"text\" onChange={change} defaultValue={foodInfo.name} name=\"name\"/><br/>\r\n              描述：<input className='FoodManageInput' type=\"text\" onChange={change} defaultValue={foodInfo.desc} name=\"desc\"/><br/>\r\n              价格：<input className='FoodManageInput' type=\"text\" onChange={change} defaultValue={foodInfo.price} name=\"price\"/><br/>\r\n              分类：<input  className='FoodManageInput' type=\"text\" onChange={change} defaultValue={foodInfo.category} name=\"category\"/><br/>\r\n              图片：<input className='FoodManageInput' type=\"file\" onChange={imgChange} name=\"img\" />\r\n            </form>\r\n          </div>\r\n        )\r\n      } else {\r\n        return (\r\n          <div className='menuItemStyle'>\r\n                      <img src={`http://${host}:5000/upload/` + foodInfo.img} alt={foodInfo.name} className='imgStyle'/>\r\n            <div style={{fontSize:'18px',}}>\r\n            <div style={{paddingRight:'25px',}}>菜品：{foodInfo.name}</div>        \r\n            <div style={{paddingRight:'25px',}}>描述：{foodInfo.desc}</div>\r\n            <div style={{paddingRight:'25px',}}>价格：{foodInfo.price}</div>\r\n            <div style={{paddingRight:'25px',}}>分类：{foodInfo.category ? foodInfo.category : '[暂未分类]'}</div>\r\n            </div> \r\n          </div>\r\n        )\r\n      }\r\n    }\r\n  \r\n  \r\n    return (\r\n      <div >\r\n        {getContent()}\r\n        <div className='FoodItemBtn'>\r\n          <Button type='primary' onClick={() => setIsModify(true)}>修改</Button>\r\n  \r\n          <Button onClick={save}>保存</Button>\r\n  \r\n          {foodInfo.status === 'on' &&\r\n            <Button type='dashed' onClick={setOffline}>下架</Button>\r\n          }\r\n          {foodInfo.status === 'off' &&\r\n            <Button onClick={setOnline}>上架</Button>\r\n          }\r\n          <Button type='danger' onClick={deleteFood}>删除</Button>\r\n        </div>\r\n        <div style={{width:'85vw',borderBottom:'1px solid',margin:'0 auto'}}></div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n\r\n\r\nexport default function FoodManage(props) {\r\n  var rid=props.match.params.rid\r\n    var [foods,setFoods]=useState([])\r\n    useEffect(()=>{\r\n        api.get(`/restaurant/${rid}/food`).then(res=>{\r\n          // console.log(res)\r\n            setFoods(res.data)\r\n        })\r\n    },[])\r\n\r\n    function onDelete(id) {\r\n        setFoods(foods.filter(it => it.id !== id))\r\n      }\r\n    return (\r\n        <div className=''>\r\n        <Button type='primary' className='FoodManageAddFood'><Link to={`/restaurant/${rid}/manage/add-food`}>添加菜品</Link></Button>\r\n        <div>\r\n          { \r\n            foods.map(food => {\r\n              // console.log(food)\r\n              return <FoodItem rid={rid} onDelete={onDelete} key={food.id} food={food}/>\r\n            })\r\n          }\r\n        </div>\r\n      </div>\r\n      )\r\n\r\n}\r\n","import React,{useState,useEffect} from 'react'\nimport api from './api'\nimport { Link } from 'react-router-dom'\nimport { Button } from 'antd';\n\n  var deskInfoStyle = {\n    overflow: 'hidden',\n  }\n  var cardStyle = {\n    border: '2px solid',\n    padding: '5px',\n    margin: '5px',\n  }\n// var  rid\n// async function log(){\n//     try{var a=await api.get('/userinfo')}\n//     catch(e){console.log(e)}\n//       if(a){\n//         rid=a.data.id\n//         console.log(rid)\n//       }\n// }\n// log()\n\n  function DeskItem({desk, onDelete,rid}) {\n    var [deskInfo, setDeskInfo] = useState(desk)\n    var [isModify, setIsModify] = useState(false)\n    var [deskProps, setDeskProps] = useState({\n      name: desk.name,\n      capacity: desk.capacity,\n    })\n  \n  \n    function save() {\n      // var fd = new FormData()\n  \n      // for(var key in deskProps) {\n      //   var val = deskProps[key]\n      //   fd.append(key, val)\n      // }\n  \n      api.put(`/restaurant/${rid}/desk/` + desk.id, deskProps).then((deskInfo) => {\n        setDeskInfo(deskInfo.data)\n        setIsModify(false)\n      })\n    }\n  \n    function change(e) {\n      setDeskProps({\n        ...deskProps,\n        [e.target.name]: e.target.value\n      })\n    }\n  \n  \n    function deleteDesk() {\n      api.delete(`/restaurant/${rid}/desk/` + desk.id).then(() => {\n        onDelete(desk.id)\n      })\n    }\n  // function imgChange(e) {\n    //   setFoodProps({\n    //     ...foodProps,\n    //     img: e.target.files[0],\n    //   })\n    // }\n\n    // function setOnline() {\n    //   api.put('/restaurant/1/food/' + food.id, {\n    //     ...foodProps,\n    //     status: 'on',\n    //   }).then(res => {\n    //     setdeskInfo(res.data)\n    //   })\n    // }\n    // function setOffline() {\n    //   api.put('/restaurant/1/food/' + food.id, {\n    //     ...foodProps,\n    //     status: 'off',\n    //   }).then(res => {\n    //     setdeskInfo(res.data)\n    //   })\n    // }\n\n    function getContent() {\n      if (isModify) {\n        return (\n          <div >\n            <form>\n              餐桌名称：<input className='FoodManageInput' type=\"text\" onChange={change} defaultValue={deskInfo.name} name=\"name\"/><br/>\n              餐桌容量：<input className='FoodManageInput' type=\"text\" onChange={change} defaultValue={deskInfo.capacity} name=\"capacity\"/><br/>\n            </form>\n          </div>\n        )\n      } else {\n        return (\n          <div >\n            <h3>餐桌名称：{deskInfo.name}</h3>\n            <h3>餐桌容量：{deskInfo.capacity}</h3>\n          </div>\n        )\n      }\n    }\n  \n  \n    return (\n      <div className='OrderItem'>\n     \n        {getContent()}\n        <div className='FoodItemBtn'>\n          <Button type='primary' onClick={() => setIsModify(true)}>修改</Button>\n          <Button onClick={save}>保存</Button>\n          <Button type='danger' onClick={deleteDesk}>删除</Button>\n        </div>\n        <div style={{width:'85vw',borderBottom:'1px solid',margin:'0 auto'}}></div>\n      </div>\n    )\n  }\n\n\n\nexport default function DeskManage(props) {\n  var rid=props.match.params.rid\n    var [desks,setDesks]=useState([])\n    useEffect(()=>{\n        api.get(`/restaurant/${rid}/desk`).then(res=>{\n          // console.log(res)\n          setDesks(res.data)\n        })\n    },[])\n\n    function onDelete(id) {\n        setDesks(desks.filter(it => it.id !== id))\n      }\n    return (\n        <div>\n        <Button type='primary' className='FoodManageAddFood'><Link to={`/restaurant/${rid}/manage/add-desk`}>添加餐桌</Link></Button>\n        <div>\n          { \n            desks.map(desk => {\n              // console.log(food)\n              return <DeskItem rid={rid} onDelete={onDelete} key={desk.id} desk={desk}/>\n            })\n          }\n        </div>\n      </div>\n      )\n\n}\n","import React, {useState} from 'react'\nimport api from './api'\nimport history from './history'\nimport fetcher from './fetcher'\n\n// let rid\n// async function log(){\n//     try{var a=await api.get('/userinfo')}\n//     catch(e){console.log(e)}\n//         rid=a.data.id\n//         console.log(rid)\n// }\n// log()\n//效果同上\n// var rid\n// api.get('/userinfo').then(a=>{rid=a.data.id})\n// console.log(rid)\n\n\n// const userInfoFetcher=fetcher(async()=>{\n//      var a=await api.get('/userinfo').catch(console.log)\n//      return a\n// })\n// var info = userInfoFetcher.read().data\n// console.log(info)\n\n\nfunction AddFood(props) {\n  var rid=props.match.params.rid\n    var [foodInfo, setFoodInfo] = useState({\n      name: '',\n      desc: '',\n      price: 0,\n      category: '',\n      status: 'on',\n      img: null,\n    })\n  \n    function change(e) {\n      setFoodInfo({\n        ...foodInfo,\n        [e.target.name]: e.target.value\n      })\n    }\n  \n    function imgChange(e) {\n      setFoodInfo({\n        ...foodInfo,\n        img: e.target.files[0],\n      })\n    }\n  \n    function submit(e) {\n      e.preventDefault()\n  \n      var fd = new FormData()\n      \n      for(var key in foodInfo) {\n        var val = foodInfo[key]\n        fd.append(key, val)\n      }\n  \n      api.post(`/restaurant/${rid}/food`, fd).then(res => {\n        history.goBack()\n      }).catch(\n          e=>{\n              console.log(e)\n              alert('添加失败')\n            }\n          )\n    }\n  \n    return (\n      <div>\n        <h2>添加菜品</h2>\n        <form onSubmit={submit}>\n          名称：<input type=\"text\" onChange={change} defaultValue={foodInfo.name} name=\"name\"/><br/>\n          描述：<input type=\"text\" onChange={change} defaultValue={foodInfo.desc} name=\"desc\"/><br/>\n          价格：<input type=\"text\" onChange={change} defaultValue={foodInfo.price} name=\"price\"/><br/>\n          分类：<input type=\"text\" onChange={change} defaultValue={foodInfo.category} name=\"category\"/><br/>\n          图片：<input type=\"file\" onChange={imgChange} name=\"img\" /><br/>\n          <button>提交</button>\n        </form>\n      </div>\n    )\n  }\n  \n  export default AddFood","import React, {useState} from 'react'\nimport api from './api'\nimport history from './history'\nimport fetcher from './fetcher'\n\n// let rid\n// async function log(){\n//     try{var a=await api.get('/userinfo')}\n//     catch(e){console.log(e)}\n//         rid=a.data.id\n//         console.log(rid)\n// }\n// log()\n//效果同上\n// var rid\n// api.get('/userinfo').then(a=>{rid=a.data.id})\n\nfunction AddDesk(props) {\n  var rid=props.match.params.rid\n    var [deskInfo, setDeskInfo] = useState({\n      name: '',\n      capacity: null,\n    })\n    // console.log(deskInfo)\n    function change(e) {\n        setDeskInfo({\n        ...deskInfo,\n        [e.target.name]: e.target.value\n      })\n    }\n  \n  \n    function submit(e) {\n      e.preventDefault()\n  \n      // var fd = new FormData()\n      \n      // for(var key in deskInfo) {\n      //   var val = deskInfo[key]\n      //   fd.append(key, val)\n      // }\n  \n      api.post(`/restaurant/${rid}/desk`,deskInfo).then(res => {\n        history.goBack()\n      }).catch(\n          e=>{\n              console.log(e)\n              alert('添加失败')\n            }\n          )\n    }\n  \n    return (\n      <div>\n        <h2>添加餐桌</h2>\n        <form onSubmit={submit}>\n          餐桌名称：<input required type=\"text\" onChange={change} defaultValue={deskInfo.name} name=\"name\"/><br/>\n          餐桌容量：<input required type=\"text\" onChange={change} defaultValue={deskInfo.capacity} name=\"capacity\"/><br/>\n          <button>提交</button>\n        </form>\n      </div>\n    )\n  }\n  \n  export default AddDesk","import React,{Suspense,useState}from 'react'\r\nimport {Switch,Route,Link} from 'react-router-dom';\r\nimport OrderManage from'./OrderManage';\r\nimport FoodManage from'./FoodManage';\r\nimport DeskManage from'./DeskManage';\r\nimport api from './api';\r\nimport fetcher from './fetcher'\r\nimport history from './history'\r\nimport {withRouter} from 'react-router-dom'\r\nimport AddFood from './AddFood'\r\nimport AddDesk from './AddDesk'\r\nimport { Button } from 'antd';\r\n// const userInfoFetcher=fetcher(async()=>{\r\n//     return api.get('/userinfo').catch(()=>{\r\n//         history.push('/')\r\n//     })\r\n// })\r\n\r\n// 有疑问////////////////////////////////////////////////////////\r\nfunction RestaurantInfo({rid}){\r\n  var [title,setTitle]=useState('loading')\r\n     api.post('/userinfo',{rid}).then(res=>{\r\n      console.log(res)\r\n      if(res.status==404){\r\n        history.push('/')\r\n      }else{\r\n        setTitle(res.data.title)\r\n      }\r\n    })\r\n// var info = userInfoFetcher.read().data\r\n  \r\nreturn (\r\n  < h2>\r\n    {\r\n      '餐厅名： ' +title\r\n    }\r\n  </h2>\r\n)\r\n}\r\nexport default withRouter(function(props){\r\n    async function logout(){\r\n       await api.get('/logout')\r\n       props.history.push('/')\r\n    }\r\n    return (\r\n        <div className='Restaurantanage'>\r\n            <nav>\r\n           {/*疑问，回顾*/ }\r\n              <Suspense fallback={<div>loading...</div>}>\r\n              <RestaurantInfo rid={props.match.params.rid}/>\r\n              </Suspense>\r\n              <Button className='RestaurantanageLogout' onClick={logout}>登出</Button>\r\n             <ul>\r\n                 <li>\r\n                 <Button>\r\n                   <Link to='order'>订单管理</Link>\r\n                   </Button>\r\n                 </li>\r\n                 <li> <Button><Link to='food'>菜品管理</Link></Button></li>\r\n                 <li> <Button><Link to='desk'>桌面管理</Link></Button></li>\r\n             </ul>\r\n            </nav>\r\n        <main>\r\n        <Switch>\r\n        <Route path=\"/restaurant/:rid/manage/order\" component={OrderManage}/>\r\n          <Route path=\"/restaurant/:rid/manage/food\" component={FoodManage}/>\r\n          <Route path=\"/restaurant/:rid/manage/desk\" component={DeskManage}/>\r\n          <Route path=\"/restaurant/:rid/manage/add-food\" component={AddFood}/>\r\n          <Route path=\"/restaurant/:rid/manage/add-desk\" component={AddDesk}/>\r\n        </Switch>\r\n        </main>\r\n        </div>\r\n    )\r\n})","import React,{useRef} from 'react'\r\nimport {withRouter} from 'react-router-dom'\r\nimport api from './api'\r\nimport history from './history'\r\nimport { Input ,Button} from 'antd';\r\n\r\nexport default withRouter((props) => {\r\n    /////////////利用get userinfo cookie自登录///////////////\r\n        // async function log(){\r\n        //     try{\r\n        //         var a=await api.get('/userinfo')\r\n        //         if(a){\r\n        //             history.push('/manage')\r\n        //         }\r\n        //     }catch(e){\r\n        //         console.log(e)\r\n        //     }\r\n        // }\r\n        // log()\r\n    var nameRef=useRef()\r\n    var passwordRef=useRef()\r\n    async function login(e){\r\n        e.preventDefault();\r\n     var name=nameRef.current.value\r\n     var password=passwordRef.current.value\r\n     try{\r\n         var user =await api.post('/login',{name,password})\r\n         props.history.push(`/restaurant/${user.data.id}/manage/`)\r\n     }catch(e){\r\n         alert(e)\r\n        //  alert('登陆失败')\r\n        }\r\n    }\r\n    return  <div className='Login'>\r\n    <h1>餐厅管理员登陆</h1>\r\n<form>\r\n    <div><span>用户名</span><input ref={nameRef}/></div>\r\n    <div><span>密 码 </span><input type='password' ref={passwordRef}/></div>\r\n    <Button type='ghost' onClick={login}>登录</Button>\r\n</form>\r\n</div>\r\n})\r\n","import React from 'react'\nimport {Link} from 'react-router-dom';\nimport {withRouter} from 'react-router-dom'\nimport { Button } from 'antd';\n\nexport default () => {\n    return <div className='HomePages'>\n        <h1 >漫语点餐系统</h1>\n        <div>\n        <Button type='ghost' shape='round' size='large' ><Link to='login'>登录</Link></Button>\n        <Button type='ghost' shape='round' size='large' ><Link to='register'>注册</Link></Button>\n        </div>\n    </div>\n}\n","import React,{useRef} from 'react'\nimport {withRouter} from 'react-router-dom'\nimport api from './api'\nimport { Button } from 'antd';\nexport default withRouter((props) => {\n    var nameRef=useRef()\n    var passwordRef=useRef()\n    var titleRef=useRef()\n    async function createUser(e){\n        e.preventDefault();\n     var name=nameRef.current.value\n     var password=passwordRef.current.value\n     var title=titleRef.current.value\n     try{\n         var user =await api.post('/register',{name,password,title})\n         props.history.push('/login')\n     }catch(e){\n         console.log(e)\n         alert('注册失败')\n        }\n    }\n    var styleobj={\n        display:'block',\n        margin:'0 auto',\n        paddingTop:'50px'\n    }\n    return(\n    <div className='Login'>\n       <h2 style={styleobj}>商家用户注册</h2>\n       <form className=''>\n       <div>用户名<input  ref={nameRef}/></div>\n       <div>密 码 <input  type='password' ref={passwordRef}/></div>\n       <div>商家名<input  type='title' ref={titleRef}/></div>\n       <Button type='ghost' onClick={createUser}>登录</Button>\n       </form>\n    </div>)\n})\n","import React from 'react';\n\nexport default (props)=>{\n    console.log(props)\nreturn (\n    <div>\n    <h2>下单成功</h2>\n    <p>消费金额 ：<strong>{props.location.state?props.location.state.totalPrice:0}元</strong></p>\n    </div>\n)\n}","import React from 'react';\nimport {Router as Router, Route,Switch,Link} from 'react-router-dom';\nimport './App.css';\nimport LandingPage from'./LandingPage';\nimport FoodCart from'./FoodCart';\nimport Restaurantanage from'./Restaurantanage';\nimport Login from'./Login';\nimport HomePage from'./HomePage';\nimport Register from'./Register';\nimport history from'./history';\nimport OrderSuccess from'./OrderSuccess';\n// function setRootFontSize() {\n//   var width = document.documentElement.clientWidth || document.body.clientWidth;\n//   var fontSize = (width / 10);\n//   console.log(fontSize)\n//   document.getElementsByTagName('html')[0].style['font-size'] = fontSize + 'px';\n// }\n// setRootFontSize();\n// window.addEventListener('resize', function() {\n//   setRootFontSize();\n// }, false)\n\nfunction App() {\n  return (\n    <div >\n<Router history={history}>\n  \n   <Switch>\n     <Route path='/'  exact component={HomePage}/> \n     <Route path='/landing/r/:rid/d/:did' component={LandingPage}/>\n     <Route path='/r/:rid/d/:did/c/:count' component={FoodCart}/>\n     <Route path='/r/:rid/d/:did/order-success' component={OrderSuccess}/>\n     <Route path=\"/restaurant/:rid/manage/\" component={Restaurantanage} />\n     <Route path='/login' component={Login}/>\n     <Route path='/register' component={Register}/>\n   </Switch>\n</Router>\n</div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport api from './api'\nimport axios from 'axios'\nimport _ from 'lodash'\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nwindow.api=api\nwindow.axios=axios\nwindow._=_\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}