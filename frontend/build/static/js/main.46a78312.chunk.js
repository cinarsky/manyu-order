(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{127:function(e,t,a){e.exports=a(232)},149:function(e,t,a){},150:function(e,t,a){},151:function(e,t,a){},228:function(e,t){},232:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(36),o=a.n(c),l=a(46),i=a.n(l),u="47.90.91.3",s=i.a.create({baseURL:"http://".concat(u,":5000/api"),withCredentials:!0}),m=a(116),d=a.n(m),p=(a(149),a(18)),f=(a(150),a(1)),E=(a(151),a(233)),h=function(e){var t={};return{read:function(){for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];var c=n.join("|");if(c in t)return t[c];throw e.apply(void 0,n).then((function(e){t[c]=e}))}}}((function(e){return s.get("/deskinfo?did="+e)})),g=Object(p.f)((function(e){var t=Object(n.useState)(0),a=Object(f.a)(t,2),c=a[0],o=a[1];console.log(e);var l=e.match.params.rid,i=e.match.params.did;return r.a.createElement("div",{className:"LandingPage"},r.a.createElement(n.Suspense,{fallback:r.a.createElement("div",null,"\u6b63\u5728\u52a0\u8f7d\u684c\u9762\u4fe1\u606f")},r.a.createElement((function(e){var t=e.did,a=h.read(t).data;return r.a.createElement("div",null,r.a.createElement("div",null,"\u9910\u5385\u540d:",a.title),r.a.createElement("div",null,"\u684c\u540d:",a.name))}),{did:i})),r.a.createElement("div",null,"\u9009\u62e9\u4eba\u6570"),r.a.createElement("ul",{className:"custom-count"},r.a.createElement("li",{className:1===c?"active":null,onClick:function(){return o(1)}},"1"),r.a.createElement("li",{className:2===c?"active":null,onClick:function(){return o(2)}},"2"),r.a.createElement("li",{className:3===c?"active":null,onClick:function(){return o(3)}},"3"),r.a.createElement("li",{className:4===c?"active":null,onClick:function(){return o(4)}},"4")),r.a.createElement(E.a,{type:"ghost",shape:"round",size:"large",block:!0,onClick:function(){0!=c&&e.history.push("/r/".concat(l,"/d/").concat(i,"/c/").concat(c))}},"\u5f00\u59cb\u70b9\u9910"))})),b=a(125),v=a(49),y=a(50),O=a(54),j=a(52),k=a(55),w=a(23),C=a(6),P=Object(C.b)(),S=a(53),D=a.n(S);function N(e){var t=e.food,a=e.onUpdate,n=e.amount;return r.a.createElement("div",null,r.a.createElement("div",{className:"menuItemStyle"},r.a.createElement("img",{className:"imgStyle",src:"http://".concat(u,":5000/upload/")+t.img,alt:t.name}),r.a.createElement("div",{className:"menuItem1"},r.a.createElement("h2",null,t.name),r.a.createElement("h4",null,"\u63cf\u8ff0\uff1a",t.desc),r.a.createElement("h3",null,"\u4ef7\u683c\uff1a",t.price)),r.a.createElement("div",{className:"menuItem2"},r.a.createElement(E.a,{type:"primary",shape:"circle",onClick:function(){0!==n&&a(t,n-1)}},"-"),r.a.createElement("span",null,r.a.createElement("strong",null,n)),r.a.createElement(E.a,{type:"primary",shape:"circle",onClick:function(){a(t,n+1)}},"+"))),r.a.createElement("div",{style:{width:"85vw",borderBottom:"1px solid",margin:"0 auto"}}))}function x(e){var t=Object(n.useState)(!1),a=Object(f.a)(t,2),c=(a[0],a[1],I(e.foods));return r.a.createElement("div",{className:"CartStatus"},"\u603b\u4ef7\uff1a",c," \u5143",r.a.createElement("div",{className:"CartStatusButton",onClick:function(){return e.onPlaceOrder()}},"\u4e0b\u5355"))}function I(e){return e.reduce((function(e,t){return e+t.amount*t.food.price}),0)}var F=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(O.a)(this,Object(j.a)(t).call(this,e))).cartChange=function(e,t){var n=a.props.match.params;a.socket.emit("new food",{desk:"desk:"+n.did,food:e,amount:t})},a.foodChange=function(e,t){var n=Object(w.a)(a.state.cart,(function(a){var n=a.findIndex((function(t){return t.food.id===e.id}));n>=0?0===t?a.splice(n,1):a[n].amount=t:a.push({food:e,amount:t})}));a.setState({cart:n})},a.placeOrder=function(){var e=a.props.match.params;0!=a.state.cart.length&&s.post("/restaurant/".concat(e.rid,"/desk/").concat(e.did,"/order"),{deskName:a.state.deskInfo.name,count:e.count,totalPrice:I(a.state.cart),foods:a.state.cart}).then((function(t){P.push({pathname:"/r/".concat(e.rid,"/d/").concat(e.did,"/order-success"),state:t.data})}))},a.state={cart:[],foodMenu:[],deskInfo:{}},a}return Object(k.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params;s.get("/deskinfo?did="+t.did).then((function(t){e.setState({deskInfo:t.data})})),s.get("/menu/restaurant/"+t.rid).then((function(t){e.setState({foodMenu:t.data})})),this.socket=D()("ws://".concat(u,":5000/")),this.socket.on("connect",(function(){console.log(0x650e124ef1c7),e.socket.emit("join desk","desk:"+t.did),e.socket.on("cart food",(function(t){console.log(t),e.setState(Object(w.a)((function(e){var a;(a=e.cart).push.apply(a,Object(b.a)(t))})))})),e.socket.on("new food",(function(t){console.log(t),e.foodChange(t.food,t.amount)})),e.socket.on("placeorder success",(function(e){P.push({pathname:"/r/".concat(t.rid,"/d/").concat(t.did,"/order-success"),state:e})}))}))}},{key:"componentWillUnmount",value:function(){this.socket.close()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"Foodcart"},r.a.createElement("div",null,this.state.foodMenu.map((function(t){var a=0,n=e.state.cart.find((function(e){return e.food.id===t.id}));return n&&(a=n.amount),r.a.createElement(N,{key:t.id,food:t,amount:a,onUpdate:e.cartChange})})),r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null))),r.a.createElement(x,{foods:this.state.cart,onUpdate:this.cartChange,onPlaceOrder:this.placeOrder}))}}]),t}(n.Component),M=a(12),R=a.n(M),B=a(32),V=a(4),U=a(51),L=a(5);function z(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function W(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?z(a,!0).forEach((function(t){Object(L.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):z(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function A(e){var t=e.rid,a=Object(n.useState)(e.order),c=Object(f.a)(a,2),o=c[0],l=c[1];return r.a.createElement("div",{className:"OrderItem"},r.a.createElement("h3",null,"\u9910\u684c\u540d\u79f0\uff1a",o.deskName),r.a.createElement("h3",null,"\u603b\u4ef7\u683c\uff1a",o.totalPrice),r.a.createElement("h3",null,"\u4eba\u6570\uff1a",o.customCount),r.a.createElement("h3",null,"\u8ba2\u5355\u72b6\u6001\uff1a",o.status),r.a.createElement("div",{className:"FoodItemBtn"},r.a.createElement(E.a,{type:"primary",onClick:function(){s.put("/restaurant/".concat(t,"/order/").concat(e.order.id,"/status"),{status:"confirmed"}).then((function(){l(W({},o,{status:"confirmed"}))}))},disabled:"confirmed"===o.status||"completed"===o.status},"\u786e\u8ba4"),r.a.createElement(E.a,{type:"primary",onClick:function(){s.put("/restaurant/".concat(t,"/order/").concat(e.order.id,"/status"),{status:"completed"}).then((function(){l(W({},o,{status:"completed"}))}))},disabled:"completed"==o.status},"\u5df2\u7ed3\u7b97"),r.a.createElement(E.a,{type:"danger",onClick:function(){s.delete("/restaurant/".concat(t,"/order/").concat(e.order.id)),e.onDelete(e.order)}},"\u5220\u9664"),r.a.createElement(E.a,{type:"dashed"},"\u6253\u5370")),r.a.createElement("div",{style:{width:"85vw",borderBottom:"1px solid",margin:"0 auto"}}))}var q=function(e){function t(e){var a;return Object(v.a)(this,t),a=Object(O.a)(this,Object(j.a)(t).call(this,e)),console.log(e),a.state={orders:[]},a.onDelete=a.onDelete.bind(Object(U.a)(a)),a}return Object(k.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.rid;this.socket=D()("ws://".concat(u,":5000/")),this.socket.on("connect",(function(){e.socket.emit("join restaurant",t)})),this.socket.on("new order",(function(t){e.setState(Object(w.a)((function(e){e.orders.unshift(t)})))}));t=this.props.match.params.rid;s.get("/restaurant/".concat(t,"/order")).then((function(t){e.setState(Object(w.a)((function(e){e.orders=t.data})))}))}},{key:"componentWillUnmount",value:function(){this.socket.close()}},{key:"onDelete",value:function(e){var t=this.state.orders.findIndex((function(t){return t.id==e.id}));this.setState(Object(w.a)(this.state,(function(e){e.orders.splice(t,1)})))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("h2",null,"\u8ba2\u5355\u7ba1\u7406"),r.a.createElement("div",null,this.state.orders.length>=0?this.state.orders.length>0?this.state.orders.map((function(t){return r.a.createElement(A,{rid:e.props.match.params.rid,onDelete:e.onDelete,key:t.timestamp,order:t})})):r.a.createElement("div",null,"\u6682\u65e0\u8ba2\u5355"):r.a.createElement("div",null,"loading...")))}}]),t}(n.Component);function J(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function H(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?J(a,!0).forEach((function(t){Object(L.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):J(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function T(e){var t=e.food,a=e.onDelete,c=e.rid,o=Object(n.useState)(t),l=Object(f.a)(o,2),i=l[0],m=l[1],d=Object(n.useState)(!1),p=Object(f.a)(d,2),h=p[0],g=p[1],b=Object(n.useState)({name:t.name,desc:t.desc,price:t.price,category:t.category,status:t.status,img:null}),v=Object(f.a)(b,2),y=v[0],O=v[1];function j(e){O(H({},y,Object(L.a)({},e.target.name,e.target.value)))}function k(e){O(H({},y,{img:e.target.files[0]}))}return r.a.createElement("div",null,h?r.a.createElement("div",{style:{width:"95vw",margin:"0 auto",background:"rgba(219, 219, 219, 0.5)",borderRadius:"5px"}},r.a.createElement("form",null,"\u540d\u79f0\uff1a",r.a.createElement("input",{className:"FoodManageInput",type:"text",onChange:j,defaultValue:i.name,name:"name"}),r.a.createElement("br",null),"\u63cf\u8ff0\uff1a",r.a.createElement("input",{className:"FoodManageInput",type:"text",onChange:j,defaultValue:i.desc,name:"desc"}),r.a.createElement("br",null),"\u4ef7\u683c\uff1a",r.a.createElement("input",{className:"FoodManageInput",type:"text",onChange:j,defaultValue:i.price,name:"price"}),r.a.createElement("br",null),"\u5206\u7c7b\uff1a",r.a.createElement("input",{className:"FoodManageInput",type:"text",onChange:j,defaultValue:i.category,name:"category"}),r.a.createElement("br",null),"\u56fe\u7247\uff1a",r.a.createElement("input",{className:"FoodManageInput",type:"file",onChange:k,name:"img"}))):r.a.createElement("div",{className:"menuItemStyle"},r.a.createElement("img",{src:"http://".concat(u,":5000/upload/")+i.img,alt:i.name,className:"imgStyle"}),r.a.createElement("div",{style:{fontSize:"18px"}},r.a.createElement("div",{style:{paddingRight:"25px"}},"\u83dc\u54c1\uff1a",i.name),r.a.createElement("div",{style:{paddingRight:"25px"}},"\u63cf\u8ff0\uff1a",i.desc),r.a.createElement("div",{style:{paddingRight:"25px"}},"\u4ef7\u683c\uff1a",i.price),r.a.createElement("div",{style:{paddingRight:"25px"}},"\u5206\u7c7b\uff1a",i.category?i.category:"[\u6682\u672a\u5206\u7c7b]"))),r.a.createElement("div",{className:"FoodItemBtn"},r.a.createElement(E.a,{type:"primary",onClick:function(){return g(!0)}},"\u4fee\u6539"),r.a.createElement(E.a,{onClick:function(){var e=new FormData;for(var a in y){var n=y[a];e.append(a,n)}s.put("/restaurant/".concat(c,"/food/")+t.id,e).then((function(e){m(e.data),g(!1)}))}},"\u4fdd\u5b58"),"on"===i.status&&r.a.createElement(E.a,{type:"dashed",onClick:function(){s.put("/restaurant/".concat(c,"/food/")+t.id,H({},y,{status:"off"})).then((function(e){m(e.data)}))}},"\u4e0b\u67b6"),"off"===i.status&&r.a.createElement(E.a,{onClick:function(){s.put("/restaurant/".concat(c,"/food/")+t.id,H({},y,{status:"on"})).then((function(e){m(e.data)}))}},"\u4e0a\u67b6"),r.a.createElement(E.a,{type:"danger",onClick:function(){s.delete("/restaurant/".concat(c,"/food/")+t.id).then((function(){a(t.id)}))}},"\u5220\u9664")),r.a.createElement("div",{style:{width:"85vw",borderBottom:"1px solid",margin:"0 auto"}}))}function $(e){var t=e.match.params.rid,a=Object(n.useState)([]),c=Object(f.a)(a,2),o=c[0],l=c[1];function i(e){l(o.filter((function(t){return t.id!==e})))}return Object(n.useEffect)((function(){s.get("/restaurant/".concat(t,"/food")).then((function(e){l(e.data)}))}),[]),r.a.createElement("div",{className:""},r.a.createElement(E.a,{type:"primary",className:"FoodManageAddFood"},r.a.createElement(V.a,{to:"/restaurant/".concat(t,"/manage/add-food")},"\u6dfb\u52a0\u83dc\u54c1")),r.a.createElement("div",null,o.map((function(e){return r.a.createElement(T,{rid:t,onDelete:i,key:e.id,food:e})}))))}function _(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function G(e){var t=e.desk,a=e.onDelete,c=e.rid,o=Object(n.useState)(t),l=Object(f.a)(o,2),i=l[0],u=l[1],m=Object(n.useState)(!1),d=Object(f.a)(m,2),p=d[0],h=d[1],g=Object(n.useState)({name:t.name,capacity:t.capacity}),b=Object(f.a)(g,2),v=b[0],y=b[1];function O(e){y(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_(a,!0).forEach((function(t){Object(L.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},v,Object(L.a)({},e.target.name,e.target.value)))}return r.a.createElement("div",{className:"OrderItem"},p?r.a.createElement("div",null,r.a.createElement("form",null,"\u9910\u684c\u540d\u79f0\uff1a",r.a.createElement("input",{className:"FoodManageInput",type:"text",onChange:O,defaultValue:i.name,name:"name"}),r.a.createElement("br",null),"\u9910\u684c\u5bb9\u91cf\uff1a",r.a.createElement("input",{className:"FoodManageInput",type:"text",onChange:O,defaultValue:i.capacity,name:"capacity"}),r.a.createElement("br",null))):r.a.createElement("div",null,r.a.createElement("h3",null,"\u9910\u684c\u540d\u79f0\uff1a",i.name),r.a.createElement("h3",null,"\u9910\u684c\u5bb9\u91cf\uff1a",i.capacity)),r.a.createElement("div",{className:"FoodItemBtn"},r.a.createElement(E.a,{type:"primary",onClick:function(){return h(!0)}},"\u4fee\u6539"),r.a.createElement(E.a,{onClick:function(){s.put("/restaurant/".concat(c,"/desk/")+t.id,v).then((function(e){u(e.data),h(!1)}))}},"\u4fdd\u5b58"),r.a.createElement(E.a,{type:"danger",onClick:function(){s.delete("/restaurant/".concat(c,"/desk/")+t.id).then((function(){a(t.id)}))}},"\u5220\u9664")),r.a.createElement("div",{style:{width:"85vw",borderBottom:"1px solid",margin:"0 auto"}}))}function K(e){var t=e.match.params.rid,a=Object(n.useState)([]),c=Object(f.a)(a,2),o=c[0],l=c[1];function i(e){l(o.filter((function(t){return t.id!==e})))}return Object(n.useEffect)((function(){s.get("/restaurant/".concat(t,"/desk")).then((function(e){l(e.data)}))}),[]),r.a.createElement("div",null,r.a.createElement(E.a,{type:"primary",className:"FoodManageAddFood"},r.a.createElement(V.a,{to:"/restaurant/".concat(t,"/manage/add-desk")},"\u6dfb\u52a0\u9910\u684c")),r.a.createElement("div",null,o.map((function(e){return r.a.createElement(G,{rid:t,onDelete:i,key:e.id,desk:e})}))))}function Q(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function X(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Q(a,!0).forEach((function(t){Object(L.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Q(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Y=function(e){var t=e.match.params.rid,a=Object(n.useState)({name:"",desc:"",price:0,category:"",status:"on",img:null}),c=Object(f.a)(a,2),o=c[0],l=c[1];function i(e){l(X({},o,Object(L.a)({},e.target.name,e.target.value)))}return r.a.createElement("div",null,r.a.createElement("h2",null,"\u6dfb\u52a0\u83dc\u54c1"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var a=new FormData;for(var n in o){var r=o[n];a.append(n,r)}s.post("/restaurant/".concat(t,"/food"),a).then((function(e){P.goBack()})).catch((function(e){console.log(e),alert("\u6dfb\u52a0\u5931\u8d25")}))}},"\u540d\u79f0\uff1a",r.a.createElement("input",{type:"text",onChange:i,defaultValue:o.name,name:"name"}),r.a.createElement("br",null),"\u63cf\u8ff0\uff1a",r.a.createElement("input",{type:"text",onChange:i,defaultValue:o.desc,name:"desc"}),r.a.createElement("br",null),"\u4ef7\u683c\uff1a",r.a.createElement("input",{type:"text",onChange:i,defaultValue:o.price,name:"price"}),r.a.createElement("br",null),"\u5206\u7c7b\uff1a",r.a.createElement("input",{type:"text",onChange:i,defaultValue:o.category,name:"category"}),r.a.createElement("br",null),"\u56fe\u7247\uff1a",r.a.createElement("input",{type:"file",onChange:function(e){l(X({},o,{img:e.target.files[0]}))},name:"img"}),r.a.createElement("br",null),r.a.createElement("button",null,"\u63d0\u4ea4")))};function Z(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var ee=function(e){var t=e.match.params.rid,a=Object(n.useState)({name:"",capacity:null}),c=Object(f.a)(a,2),o=c[0],l=c[1];function i(e){l(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Z(a,!0).forEach((function(t){Object(L.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Z(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},o,Object(L.a)({},e.target.name,e.target.value)))}return r.a.createElement("div",null,r.a.createElement("h2",null,"\u6dfb\u52a0\u9910\u684c"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),s.post("/restaurant/".concat(t,"/desk"),o).then((function(e){P.goBack()})).catch((function(e){console.log(e),alert("\u6dfb\u52a0\u5931\u8d25")}))}},"\u9910\u684c\u540d\u79f0\uff1a",r.a.createElement("input",{required:!0,type:"text",onChange:i,defaultValue:o.name,name:"name"}),r.a.createElement("br",null),"\u9910\u684c\u5bb9\u91cf\uff1a",r.a.createElement("input",{required:!0,type:"text",onChange:i,defaultValue:o.capacity,name:"capacity"}),r.a.createElement("br",null),r.a.createElement("button",null,"\u63d0\u4ea4")))};function te(e){var t=e.rid,a=Object(n.useState)("loading"),c=Object(f.a)(a,2),o=c[0],l=c[1];return s.post("/userinfo",{rid:t}).then((function(e){console.log(e),404==e.status?P.push("/"):l(e.data.title)})),r.a.createElement("h2",null,"\u9910\u5385\u540d\uff1a "+o)}var ae=Object(p.f)((function(e){function t(){return(t=Object(B.a)(R.a.mark((function t(){return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.get("/logout");case 2:e.history.push("/");case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return r.a.createElement("div",{className:"Restaurantanage"},r.a.createElement("nav",null,r.a.createElement(n.Suspense,{fallback:r.a.createElement("div",null,"loading...")},r.a.createElement(te,{rid:e.match.params.rid})),r.a.createElement(E.a,{className:"RestaurantanageLogout",onClick:function(){return t.apply(this,arguments)}},"\u767b\u51fa"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(E.a,null,r.a.createElement(V.a,{to:"order"},"\u8ba2\u5355\u7ba1\u7406"))),r.a.createElement("li",null," ",r.a.createElement(E.a,null,r.a.createElement(V.a,{to:"food"},"\u83dc\u54c1\u7ba1\u7406"))),r.a.createElement("li",null," ",r.a.createElement(E.a,null,r.a.createElement(V.a,{to:"desk"},"\u684c\u9762\u7ba1\u7406"))))),r.a.createElement("main",null,r.a.createElement(p.c,null,r.a.createElement(p.a,{path:"/restaurant/:rid/manage/order",component:q}),r.a.createElement(p.a,{path:"/restaurant/:rid/manage/food",component:$}),r.a.createElement(p.a,{path:"/restaurant/:rid/manage/desk",component:K}),r.a.createElement(p.a,{path:"/restaurant/:rid/manage/add-food",component:Y}),r.a.createElement(p.a,{path:"/restaurant/:rid/manage/add-desk",component:ee}))))})),ne=Object(p.f)((function(e){var t=Object(n.useRef)(),a=Object(n.useRef)();function c(){return(c=Object(B.a)(R.a.mark((function n(r){var c,o,l;return R.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r.preventDefault(),c=t.current.value,o=a.current.value,n.prev=3,n.next=6,s.post("/login",{name:c,password:o});case 6:l=n.sent,e.history.push("/restaurant/".concat(l.data.id,"/manage/")),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(3),alert(n.t0);case 13:case"end":return n.stop()}}),n,null,[[3,10]])})))).apply(this,arguments)}return r.a.createElement("div",{className:"Login"},r.a.createElement("h1",null,"\u9910\u5385\u7ba1\u7406\u5458\u767b\u9646"),r.a.createElement("form",null,r.a.createElement("div",null,r.a.createElement("span",null,"\u7528\u6237\u540d"),r.a.createElement("input",{ref:t})),r.a.createElement("div",null,r.a.createElement("span",null,"\u5bc6 \u7801 "),r.a.createElement("input",{type:"password",ref:a})),r.a.createElement(E.a,{type:"ghost",onClick:function(e){return c.apply(this,arguments)}},"\u767b\u5f55")))})),re=function(){return r.a.createElement("div",{className:"HomePages"},r.a.createElement("h1",null,"\u6f2b\u8bed\u70b9\u9910\u7cfb\u7edf"),r.a.createElement("div",null,r.a.createElement(E.a,{type:"ghost",shape:"round",size:"large"},r.a.createElement(V.a,{to:"login"},"\u767b\u5f55")),r.a.createElement(E.a,{type:"ghost",shape:"round",size:"large"},r.a.createElement(V.a,{to:"register"},"\u6ce8\u518c"))))},ce=Object(p.f)((function(e){var t=Object(n.useRef)(),a=Object(n.useRef)(),c=Object(n.useRef)();function o(){return(o=Object(B.a)(R.a.mark((function n(r){var o,l,i;return R.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r.preventDefault(),o=t.current.value,l=a.current.value,i=c.current.value,n.prev=4,n.next=7,s.post("/register",{name:o,password:l,title:i});case 7:n.sent,e.history.push("/login"),n.next=15;break;case 11:n.prev=11,n.t0=n.catch(4),console.log(n.t0),alert("\u6ce8\u518c\u5931\u8d25");case 15:case"end":return n.stop()}}),n,null,[[4,11]])})))).apply(this,arguments)}return r.a.createElement("div",{className:"Login"},r.a.createElement("h2",{style:{display:"block",margin:"0 auto",paddingTop:"50px"}},"\u5546\u5bb6\u7528\u6237\u6ce8\u518c"),r.a.createElement("form",{className:""},r.a.createElement("div",null,"\u7528\u6237\u540d",r.a.createElement("input",{ref:t})),r.a.createElement("div",null,"\u5bc6 \u7801 ",r.a.createElement("input",{type:"password",ref:a})),r.a.createElement("div",null,"\u5546\u5bb6\u540d",r.a.createElement("input",{type:"title",ref:c})),r.a.createElement(E.a,{type:"ghost",onClick:function(e){return o.apply(this,arguments)}},"\u767b\u5f55")))})),oe=function(e){return console.log(e),r.a.createElement("div",null,r.a.createElement("h2",null,"\u4e0b\u5355\u6210\u529f"),r.a.createElement("p",null,"\u6d88\u8d39\u91d1\u989d \uff1a",r.a.createElement("strong",null,e.location.state?e.location.state.totalPrice:0,"\u5143")))};var le=function(){return r.a.createElement("div",null,r.a.createElement(p.b,{history:P},r.a.createElement(p.c,null,r.a.createElement(p.a,{path:"/",exact:!0,component:re}),r.a.createElement(p.a,{path:"/landing/r/:rid/d/:did",component:g}),r.a.createElement(p.a,{path:"/r/:rid/d/:did/c/:count",component:F}),r.a.createElement(p.a,{path:"/r/:rid/d/:did/order-success",component:oe}),r.a.createElement(p.a,{path:"/restaurant/:rid/manage/",component:ae}),r.a.createElement(p.a,{path:"/login",component:ne}),r.a.createElement(p.a,{path:"/register",component:ce}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));window.api=s,window.axios=i.a,window._=d.a,o.a.render(r.a.createElement(le,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[127,1,2]]]);
//# sourceMappingURL=main.46a78312.chunk.js.map